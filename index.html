<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recife Segura - Guia de Seguran√ßa Ativa 5.7</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Incluindo a biblioteca QRCode.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        /* Configura√ß√£o de Fonte e Estilo B√°sico */
        body { font-family: 'Inter', sans-serif; background-color: #f0fdfa; }
        .tab-button.active { background-color: #008080; color: white; border-color: #008080; }
        .tab-button { transition: all 0.2s; }
        .card { background-color: white; border: 1px solid #e0e0e0; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .quiz-option { cursor: pointer; transition: background-color 0.2s; }
        .quiz-option:hover { background-color: #e6fffa; }
        .correct-answer { background-color: #a7f3d0 !important; }
        .incorrect-answer { background-color: #fecaca !important; }
       
        /* Estilo para os cards do painel inicial */
        /* Estilo para os cards do painel inicial */
.initial-card {
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
    border-left: 5px solid;
    display: flex; /* Mantido: Necess√°rio para alinhar e espa√ßar os itens */
    align-items: center;

    /* LINHA CORRIGIDA: Substitui 'space-x: 4;' inv√°lido */
    gap: 1rem; /* 1rem √© o equivalente a '4' na escala de espa√ßamento do Tailwind (16px) */
    
    padding: 1.25rem;
    border-radius: 0.75rem;
    background-color: white;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}
        .initial-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            border-left-width: 8px;
        }

        /* ESTILO PARA O BOT√ÉO SOS FIXO E FLUTUANTE */
        .sos-button-fixed {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            width: 70px;
            height: 70px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #dc2626;
            color: white;
            border-radius: 50%;
            text-align: center;
            font-size: 0.75rem;
            font-weight: bold;
            box-shadow: 0 10px 15px -3px rgba(220, 38, 38, 0.5), 0 4px 6px -4px rgba(220, 38, 38, 0.5);
            transition: background-color 0.2s, transform 0.2s;
            line-height: 1.1;
        }
        .sos-button-fixed:hover {
            background-color: #b91c1c;
            transform: scale(1.05);
        }
        .sos-button-fixed svg {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
        }
        /* Estilo para a barra de status de rastreamento */
        .tracking-status {
            animation: pulse-red 2s infinite;
        }
        @keyframes pulse-red {
            0%, 100% { background-color: #fca5a5; }
            50% { background-color: #ef4444; }
        }
    </style>
</head>
<body>

    <div class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Cabe√ßalho -->
        <header class="text-center mb-6 p-4 rounded-xl bg-cyan-700 shadow-xl text-white">
            <h1 class="text-3xl font-extrabold sm:text-4xl">Recife Segura App</h1>
            <p class="text-lg mt-1 font-light">Seu guia essencial de Seguran√ßa Ativa</p>
        </header>

        <!-- Bot√£o QR Code (Fixo no topo para f√°cil acesso) -->
        <div class="flex justify-end mb-4">
            <button id="qrCodeButton" class="w-full sm:w-auto px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold rounded-xl shadow-md transition duration-150 ease-in-out text-base">
                Abrir no Celular (QR Code)
            </button>
        </div>
       
        <!-- Conte√∫do Principal Din√¢mico -->
        <div id="app-container">

            <!-- Painel Inicial (Menu Principal) -->
            <div id="initial-screen" class="tab-pane hidden">
                <div class="card p-6 rounded-xl text-center mb-6 bg-cyan-50 border-cyan-300">
                    <h2 class="text-3xl font-extrabold mb-2 text-cyan-800">Bem-vindo(a) √† Recife! ü¶à</h2>
                    <p class="text-gray-700 font-semibold">Ative sua seguran√ßa e confira as dicas e alertas para aproveitar a cidade.</p>
                </div>
               
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                   
                    <!-- 1. Card de Navega√ß√£o: ROTA SEGURA -->
                    <a href="#rastreamento" class="initial-card border-l-red-500 hover:bg-red-50">
                        <span class="text-3xl" role="img" aria-label="GPS">üìç</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-red-700">Rota Segura (Rastreamento)</p>
                            <p class="text-sm text-gray-600">Compartilhamento de Rota em Tempo Real com Contato.</p>
                        </div>
                    </a>

                    <!-- 2. Card de Navega√ß√£o: RISCO & BAIRROS -->
                    <a href="#risco" class="initial-card border-l-orange-500 hover:bg-orange-50">
                        <span class="text-3xl" role="img" aria-label="Alerta">üö®</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-orange-700">Risco & Bairros (Mapa Detalhado)</p>
                            <p class="text-sm text-gray-600">√Åreas de Aten√ß√£o Redobrada (Tubar√£o e Urbano).</p>
                        </div>
                    </a>

                    <!-- 3. Card de Navega√ß√£o: B.O. R√ÅPIDO -->
                    <a href="#bo" class="initial-card border-l-purple-500 hover:bg-purple-50">
                        <span class="text-3xl" role="img" aria-label="Documento">üìÑ</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-purple-700">B.O. R√°pido (Guia Online)</p>
                            <p class="text-sm text-gray-600">Checklist e link para registro online de Furto/Perda.</p>
                        </div>
                    </a>

                    <!-- 4. Card de Navega√ß√£o: DICAS DE PREVEN√á√ÉO -->
                    <a href="#dicas" class="initial-card border-l-green-500 hover:bg-green-50">
                        <span class="text-3xl" role="img" aria-label="Escudo">üõ°</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-green-700">Dicas de Preven√ß√£o</p>
                            <p class="text-sm text-gray-600">Orienta√ß√µes por Categoria (Mulheres, Fam√≠lia, Celular).</p>
                        </div>
                    </a>

                    <!-- 5. Card de Navega√ß√£o: SERVI√áOS DE APOIO -->
                    <a href="#servicos" class="initial-card border-l-teal-500 hover:bg-teal-50">
                        <span class="text-3xl" role="img" aria-label="Hospital">üè•</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-teal-700">Servi√ßos de Apoio</p>
                            <p class="text-sm text-gray-600">Localiza√ß√£o das UPAs 24h e Pontos de Refer√™ncia para Den√∫ncia.</p>
                        </div>
                    </a>
                   
                    <!-- 6. Card de Navega√ß√£o: CULTURA & LAZER -->
                    <a href="#lazer" class="initial-card border-l-indigo-500 hover:bg-indigo-50">
                        <span class="text-3xl" role="img" aria-label="M√°scara">üé≠</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-indigo-700">Cultura & Lazer</p>
                            <p class="text-sm text-gray-600">Museus, Passeios Ic√¥nicos e Curiosidades da "Veneza Brasileira".</p>
                        </div>
                    </a>
                   
                    <!-- 7. Card de Navega√ß√£o: EMERG√äNCIA (Sempre em destaque) -->
                    <a href="#contatos" class="initial-card sm:col-span-2 border-l-yellow-500 hover:bg-yellow-50">
                        <span class="text-3xl" role="img" aria-label="Telefone">‚òé</span>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-yellow-700">Contatos de Emerg√™ncia (190, 192, etc.)</p>
                            <p class="text-sm text-gray-600">N√∫meros essenciais de Pol√≠cia, SAMU e Den√∫ncia R√°pida.</p>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Navega√ß√£o de Abas (Vis√≠vel para facilitar a troca entre as abas, ap√≥s sair do Painel Inicial) -->
            <div id="tab-navigation" class="flex flex-wrap justify-center mb-6 bg-white p-2 rounded-xl shadow-md space-x-1 sm:space-x-2 hidden">
                <button data-tab="rastreamento" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">Rota Segura</button>
                <button data-tab="risco" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">Risco & Bairros</button>
                <button data-tab="bo" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">B.O. R√°pido</button>
                <button data-tab="dicas" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">Dicas</button>
                <button data-tab="servicos" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">Servi√ßos</button>
                <button data-tab="lazer" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">Cultura/Lazer</button>
                <button data-tab="contatos" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent">Emerg√™ncia</button>
                <button data-tab="initial-screen" class="tab-button px-2 py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent text-gray-500 hover:text-cyan-700">In√≠cio</button>
            </div>


            <!-- Conte√∫do Detalhado das Abas -->
            <div id="tabContent">
               
                <!-- 1. RASTREAMENTO DE ROTA -->
                <div id="rastreamento" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl space-y-6">
                        <h2 class="text-2xl font-bold mb-4 text-red-700">Rota Segura: Rastreamento Cont√≠nuo (SOS Fam√≠lia)</h2>
                        <p class="text-gray-700">Ative esta fun√ß√£o para compartilhar sua localiza√ß√£o em tempo real com seu contato de seguran√ßa enquanto estiver a p√© ou em tr√¢nsito. O link √© atualizado a cada 10 segundos (simulado).</p>
                       
                        <!-- Funcionalidade: Rastreamento de Rota em Tempo Real (Simulado) -->
                        <div class="p-4 bg-red-50 border-l-4 border-red-500 rounded-lg">
                            <h3 class="font-bold text-xl text-red-700 mb-3">Ativar Monitoramento</h3>
                           
                            <input type="text" id="tracking-contact" placeholder="Nome do Contato de Seguran√ßa (Ex: Jo√£o, Maria)" class="w-full p-2 border rounded mb-2 text-sm focus:ring-red-500 focus:border-red-500">
                           
                            <div class="flex space-x-2">
                                <button id="start-tracking" class="flex-1 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition">
                                    Iniciar Rastreamento
                                </button>
                                <button id="stop-tracking" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition" disabled>
                                    Parar Rastreamento
                                </button>
                            </div>

                            <div id="tracking-output" class="hidden mt-3 p-3 bg-white border border-dashed border-red-400 rounded">
                                <p class="text-xs text-gray-500 mb-1 font-mono tracking-status" id="tracking-status-bar">Aguardando In√≠cio...</p>
                                <p id="tracking-message" class="text-sm font-mono text-gray-900 break-words"></p>
                                <button id="copy-tracking-text" class="mt-2 text-xs text-red-600 hover:text-red-800 font-semibold">
                                    Copiar √öltima Mensagem
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. RISCO & BAIRROS (ABA SEPARADA) - LIMPEZA DE ASTERISCOS -->
                <div id="risco" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl">
                        <h2 class="text-2xl font-bold mb-4 text-orange-700">Mapa de Risco e Aten√ß√£o Redobrada</h2>
                        <p class="text-gray-700 mb-6">Esta se√ß√£o √© baseada em alertas de seguran√ßa p√∫blica e relatos, exigindo aten√ß√£o extra nessas zonas e hor√°rios espec√≠ficos. Cada bairro tem seu risco, esteja atenta!</p>

                        <!-- RISCO CR√çTICO: TUBAR√ïES (NOVA SE√á√ÉO) -->
                        <div class="p-4 mb-6 bg-red-200 border-l-8 border-red-700 rounded-lg shadow-lg">
                            <h3 class="font-bold text-2xl flex items-center text-red-900 mb-3">
                                <span class="mr-2 text-3xl">‚ö†ü¶à</span> RISCO CR√çTICO: PRAIA DE BOA VIAGEM
                            </h3>
                            <p class="text-base font-semibold text-red-800 mb-2">Proibido o banho de mar nas √°reas de mar aberto, especialmente na mar√© alta.</p>
                            <ul class="list-disc list-inside text-red-900 ml-4 text-sm mt-1 space-y-1">
                                <li class="font-bold">Regra de Ouro: Tome banho EXCLUSIVAMENTE nas piscinas naturais formadas pelo arrecife na mar√© baixa.</li>
                                <li class="font-bold">Perigo: O tubar√£o avan√ßa com a mar√© cheia, ultrapassando o arrecife. Nunca entre na √°gua com mar√© alta, escura ou agitada.</li>
                                <li>Aten√ß√£o: Os ataques s√£o raros, mas reais e fatais. Priorize a seguran√ßa sempre.</li>
                            </ul>
                        </div>
                       
                        <div class="space-y-4">
                            <!-- Zona Sul: Boa Viagem, Pina -->
                            <div class="p-4 bg-orange-100 border-l-4 border-orange-500 rounded-lg">
                                <h3 class="font-bold text-xl text-orange-700 mb-2">Zona Sul (Boa Viagem, Pina) - Risco Urbano</h3>
                                <p class="text-sm font-semibold text-gray-800">Risco: Alto para furto e roubo de celular a pedestres e ciclistas.</p>
                                <ul class="list-disc list-inside text-gray-700 ml-4 text-sm mt-1">
                                    <li class="font-bold">Aten√ß√£o Redobrada: Ruas transversais da Av. Boa Viagem (especialmente √† noite).</li>
                                    <li>Praia: Evite usar eletr√¥nicos de valor na areia. Guarde o celular em bolsos internos ao caminhar no cal√ßad√£o.</li>
                                    <li>Sem√°foros: Mantenha os vidros fechados e pertences fora da vista.</li>
                                </ul>
                            </div>
                           
                            <!-- Centro: S√£o Jos√©, Santo Ant√¥nio, Bairro do Recife -->
                            <div class="p-4 bg-red-100 border-l-4 border-red-700 rounded-lg">
                                <h3 class="font-bold text-xl text-red-700 mb-2">Centro (S√£o Jos√©, Santo Ant√¥nio, Recife Antigo)</h3>
                                <p class="text-sm font-semibold text-gray-800">Risco: MUITO ALTO para furtos (carteiras, bolsas) e roubos nas √°reas de grande fluxo.</p>
                                <ul class="list-disc list-inside text-gray-700 ml-4 text-sm mt-1">
                                    <li class="font-bold">Feiras e Mercados: Mantenha a bolsa √† frente do corpo e fechada. Evite contato visual prolongado com estranhos.</li>
                                    <li>Recife Antigo: Movimentado durante o dia e eventos. Em dias/noites calmos, a √°rea fica isolada. Use sempre t√°xi/app de transporte at√© a porta.</li>
                                    <li>Hor√°rio Cr√≠tico: Fim da tarde e come√ßo da noite (17h - 20h).</li>
                                </ul>
                            </div>

                            <!-- Zona Oeste: Cordeiro, Iputinga -->
                            <div class="p-4 bg-yellow-100 border-l-4 border-yellow-500 rounded-lg">
                                <h3 class="font-bold text-xl text-yellow-700 mb-2">Zona Oeste (Cordeiro, Iputinga, V√°rzea)</h3>
                                <p class="text-sm font-semibold text-gray-800">Risco: Moderado/Alto para assaltos em paradas de √¥nibus e pontos de acesso de BRs.</p>
                                <ul class="list-disc list-inside text-gray-700 ml-4 text-sm mt-1">
                                    <li>Transporte P√∫blico: Espere o √¥nibus em locais movimentados e bem iluminados.</li>
                                    <li>T√™nis e Correntes: Evite usar objetos de marca ou de valor aparente ao caminhar.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. B.O. R√ÅPIDO (ABA SEPARADA) -->
                <div id="bo" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl">
                        <h2 class="text-2xl font-bold mb-4 text-purple-700">B.O. R√°pido: Guia para Registro Online</h2>
                        <p class="text-gray-700 mb-6">Use a Delegacia Virtual de Pernambuco para registrar ocorr√™ncias de <span class="font-bold">Furto</span> ou <span class="font-bold">Perda de Documentos</span>. O aplicativo facilita a coleta das informa√ß√µes essenciais antes do registro oficial.</p>
                       
                        <!-- Guia R√°pido B.O. Online -->
                        <div class="p-4 bg-purple-50 border-l-4 border-purple-500 rounded-lg">
                            <h3 class="text-xl font-semibold mb-3 text-purple-700">Checklist Pr√©-Registro (O que voc√™ precisa saber)</h3>
                           
                            <ol class="list-decimal list-inside text-gray-700 space-y-2 ml-4">
                                <li><span class="font-bold">Confirme a Viabilidade:</span> Apenas Furto (sem viol√™ncia) ou Perda podem ser registrados online. Roubo (com viol√™ncia) requer registro presencial, ou ligue 190.</li>
                                <li><span class="font-bold">Detalhes do Fato:</span> Voc√™ deve saber Data, Hora e Endere√ßo Exato onde o fato ocorreu (ou onde notou a perda).</li>
                                <li><span class="font-bold">Informa√ß√µes de Objeto:</span> Se foi celular, tenha o IMEI (c√≥digo de 15 d√≠gitos) em m√£os. Para documentos, saiba o n√∫mero e √≥rg√£o emissor.</li>
                                <li><span class="font-bold">V√≠tima:</span> Dados pessoais (Nome, CPF, Telefone) de quem foi furtado/perdeu o objeto.</li>
                            </ol>

                            <a id="bo-link" href="https://delegaciavirtual.sds.pe.gov.br/" target="_blank" class="block w-full text-center mt-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition">
                                Acessar Delegacia Virtual PE (Abrir em nova janela)
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 4. DICAS DE PREVEN√á√ÉO (ABA SEPARADA) -->
                <div id="dicas" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl space-y-6">
                        <h2 class="text-2xl font-bold mb-4 text-green-700">Dicas de Preven√ß√£o por Categoria</h2>
                        <p class="text-gray-700">Recomendamos a leitura de todas as dicas para aumentar sua seguran√ßa em diferentes situa√ß√µes.</p>
                       
                        <!-- Dicas para Mulheres -->
                        <div class="p-4 bg-pink-50 border-l-4 border-pink-500 rounded-lg">
                            <h4 class="font-bold text-xl text-pink-700 mb-2">Para Mulheres: Autodefesa e Preven√ß√£o de Viol√™ncia</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4 text-sm">
                                <li><span class="font-bold">Rota Alternativa:</span> Sempre que poss√≠vel, evite caminhos desertos ou mal iluminados, mesmo que sejam mais curtos.</li>
                                <li><span class="font-bold">Apps de Transporte:</span> Prefira a op√ß√£o de motorista mulher. Use a fun√ß√£o Rota Segura em todas as viagens de carro ou a p√©.</li>
                               
                                <li>Ass√©dio/Importuna√ß√£o: Em √¥nibus ou locais p√∫blicos, grite por ajuda ou denuncie imediatamente ao 180 (Disque Den√∫ncia). N√£o se sinta envergonhada, o agressor √© o √∫nico culpado.</li>
                                <li>Bebidas: Em bares, nunca aceite bebida de desconhecidos e mantenha seu copo sempre em m√£os e √† vista.</li>
                            </ul>
                        </div>

                        <!-- Dicas para Fam√≠lias/Crian√ßas -->
                        <div class="p-4 bg-blue-50 border-l-4 border-blue-500 rounded-lg">
                            <h4 class="font-bold text-xl text-blue-700 mb-2">Para Fam√≠lias/Crian√ßas: Preven√ß√£o e Primeiro Cuidado</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4 text-sm">
                                <li><span class="font-bold">Regra dos Tr√™s:</span> Ensine a crian√ßa a procurar um policial, uma m√£e com outra crian√ßa ou um seguran√ßa/funcion√°rio de loja, se estiverem perdidas.</li>
                                <li><span class="font-bold">Identifica√ß√£o:</span> Use pulseiras de identifica√ß√£o (nome/telefone) em eventos grandes ou praias. Tire uma foto da crian√ßa antes de sair para ter a roupa exata como refer√™ncia r√°pida.</li>
                                <li><span class="font-bold">Perigo na Praia:</span> Lembre-se, o banho de mar deve ser feito apenas nas piscinas naturais na mar√© baixa. Crian√ßas devem ser constantemente monitoradas.</li>
                                <li>Hidrata√ß√£o Extrema: O calor em Recife √© forte. Crian√ßas se desidratam r√°pido. Ofere√ßa √°gua e use protetor solar a cada 2 horas.</li>
                            </ul>
                        </div>

                        <!-- Dicas para Celulares e Eletr√¥nicos -->
                        <div class="p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-lg">
                            <h4 class="font-bold text-xl text-yellow-700 mb-2">Celulares e Eletr√¥nicos: Preven√ß√£o de Furto Qualificado</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4 text-sm">
                                <li><span class="font-bold">Princ√≠pio da Distra√ß√£o Zero:</span> Evite o uso de celular na rua, principalmente em cal√ßadas pr√≥ximas √† rua ou em sem√°foros. A distra√ß√£o √© o principal fator de risco.</li>
                                <li><span class="font-bold">Senhas e Biometria:</span> Configure o bloqueio de tela para o menor tempo poss√≠vel. Utilize senhas fortes e o m√°ximo de seguran√ßa biom√©trica/facial que o aparelho permitir.</li>
                                <li>Contas Banc√°rias: Use aplicativos de bancos com "modo seguro" (que esconde o saldo) ou que exijam autentica√ß√£o adicional. Nunca salve senhas de bancos no navegador.</li>
                                <li>IMEI: Anote o n√∫mero de IMEI do seu celular. √â essencial para o B.O. e para bloquear o aparelho na operadora.</li>
                            </ul>
                        </div>
                    </div>
                </div>
               
                <!-- 5. SERVI√áOS DE APOIO (COM UPAS 24H) -->
                <div id="servicos" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl">
                        <h2 class="text-2xl font-bold mb-4 text-teal-700">Pontos de Apoio e Servi√ßos Essenciais</h2>
                       
                        <h3 class="text-xl font-semibold mt-4 mb-2 text-blue-700">Sa√∫de: UPAs 24h em Recife</h3>
                        <p class="text-sm text-gray-700 mb-4">Em caso de urg√™ncia e emerg√™ncia n√£o traum√°tica, procure as Unidades de Pronto Atendimento (UPAs) mais pr√≥ximas:</p>
                        <ul class="list-disc list-inside space-y-1 text-gray-700 ml-4">
                            <li><span class="font-bold">UPA da Imbiribeira:</span> (Zona Sul)</li>
                            <li><span class="font-bold">UPA de Santo Amaro:</span> (Centro)</li>
                            <li><span class="font-bold">UPA da Caxang√°:</span> (Zona Oeste)</li>
                            <li><span class="font-bold">UPA de Nova Descoberta:</span> (Zona Norte)</li>
                            <li><span class="font-bold">Hospital da Restaura√ß√£o (HR):</span> Para casos graves e traum√°ticos (Maior emerg√™ncia do estado).</li>
                        </ul>

                        <h3 class="text-xl font-semibold mt-6 mb-2 text-pink-700">Para Den√∫ncia e Apoio √† Mulher</h3>
                        <ul class="list-disc list-inside space-y-1 text-gray-700 ml-4">
                            <li><span class="font-bold">Delegacia Especializada da Mulher:</span> O local adequado para registro de viol√™ncia contra a mulher.</li>
                            <li><span class="font-bold">Centro de Refer√™ncia Clarice Lispector:</span> Oferece acolhimento, apoio psicossocial e orienta√ß√£o jur√≠dica gratuita.</li>
                        </ul>
                    </div>
                </div>

                <!-- 6. CULTURA & LAZER (COM QUIZ) -->
                <div id="lazer" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl">
                        <h2 class="text-2xl font-bold mb-4 text-indigo-700">Cultura & Lazer: Desvendando a Veneza Brasileira üé≠</h2>
                        <p class="text-gray-700 mb-6">Recife √© uma cidade de pontes, rios e rica hist√≥ria. Separei dicas de passeios inesquec√≠veis e informa√ß√µes importantes para voc√™ aproveitar o melhor da capital pernambucana!</p>
                       
                        <!-- Museus Imperd√≠veis -->
                        <h3 class="text-xl font-semibold mb-3 text-indigo-800 border-b pb-1">üìö Museus e Espa√ßos Culturais</h3>
                        <div class="space-y-4 mb-6">
                            <div class="p-3 bg-indigo-50 border-l-4 border-indigo-400 rounded-lg">
                                <p class="font-bold text-lg text-indigo-700">Pa√ßo do Frevo & Cais do Sert√£o</p>
                                <p class="text-sm text-gray-700">Dois pontos de parada essenciais no Recife Antigo. O Pa√ßo √© a casa do Frevo (Patrim√¥nio Imaterial) e o Cais √© um tributo a Luiz Gonzaga e √† cultura sertaneja. (Risco: Siga as dicas da aba "Risco" para a √°rea central).</p>
                            </div>
                            <div class="p-3 bg-indigo-50 border-l-4 border-indigo-400 rounded-lg">
                                <p class="font-bold text-lg text-indigo-700">Museu da Caixa Cultural</p>
                                <p class="text-sm text-gray-700">Localizado na Av. Alfredo Lisboa, no centro, este museu √© conhecido por suas exposi√ß√µes de arte moderna, fotografia e cinema, frequentemente com entrada gratuita. Excelente programa√ß√£o cultural.</p>
                            </div>
                            <div class="p-3 bg-indigo-50 border-l-4 border-indigo-400 rounded-lg">
                                <p class="font-bold text-lg text-indigo-700">Museu de Cultura Afro Brasil Rolando Toro</p>
                                <p class="text-sm text-gray-700">Um espa√ßo de valoriza√ß√£o da heran√ßa africana no Brasil, com foco em rituais e religiosidade. Fundamental para entender a forma√ß√£o cultural de Pernambuco. Fica no bairro de S√£o Jos√©.</p>
                            </div>
                            <div class="p-3 bg-indigo-50 border-l-4 border-indigo-400 rounded-lg">
                                <p class="font-bold text-lg text-indigo-700">Instituto Ricardo Brennand (IRB)</p>
                                <p class="text-sm text-gray-700">Um complexo com castelo, pinacoteca, biblioteca e o maior acervo de arte de Frans Post fora da Holanda, al√©m de uma impressionante cole√ß√£o de armas brancas. √â considerado um dos museus mais bonitos do pa√≠s e fica em √°rea de seguran√ßa controlada (Zona Oeste).</p>
                            </div>
                        </div>

                        <!-- Passeios Ic√¥nicos e Aventura -->
                        <h3 class="text-xl font-semibold mb-3 text-indigo-800 border-b pb-1">üìç Passeios & Experi√™ncias √önicas</h3>
                        <div class="space-y-4 mb-6">
                            <div class="p-3 bg-green-50 border-l-4 border-green-400 rounded-lg">
                                <p class="font-bold text-lg text-green-700">Travessia at√© o Parque das Esculturas</p>
                                <p class="text-sm text-gray-700">Esta √© uma das vistas mais bonitas! O Parque (com o famoso Obelisco de Brennand) fica na ponta do arrecife. O acesso √© feito por barco (baleeira) a partir do Marco Zero no Recife Antigo. <strong class="text-red-600">Dica de Seguran√ßa:</strong> Contrate o servi√ßo apenas de barqueiros credenciados na √°rea do Marco Zero. N√£o tente ir a p√© ou nadando!</p>
                            </div>
                            <div class="p-3 bg-green-50 border-l-4 border-green-400 rounded-lg">
                                <p class="font-bold text-lg text-green-700">Marco Zero e Pra√ßa do Arsenal</p>
                                <p class="text-sm text-gray-700">O Marco Zero (Pra√ßa Rio Branco) √© o ponto inicial das estradas de Pernambuco e o centro hist√≥rico. A Pra√ßa do Arsenal, logo ao lado, √© famosa pelas casinhas coloridas e bares. Priorize a visita em hor√°rios de pico e eventos, ou use transporte por aplicativo at√© a porta em hor√°rios mais calmos (vide aba "Risco").</p>
                            </div>
                        </div>

                        <!-- Curiosidades -->
                        <h3 class="text-xl font-semibold mb-3 text-indigo-800 border-b pb-1">‚ú® Curiosidades de Recife</h3>
                        <div class="space-y-3 mb-6">
                            <div class="p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg">
                                <p class="font-bold text-lg text-yellow-700">A Veneza Brasileira</p>
                                <p class="text-sm text-gray-700">Recife ganhou esse apelido devido aos seus tr√™s rios principais (Capibaribe, Beberibe e Jord√£o) e o alto n√∫mero de pontes que conectam a ilha do Recife Antigo ao continente. S√£o mais de 50 pontes!</p>
                            </div>
                            <div class="p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg">
                                <p class="font-bold text-lg text-yellow-700">Cidade com Maior Renda Per Capita do Nordeste</p>
                                <p class="text-sm text-gray-700">Al√©m de cultura, Recife √© um polo econ√¥mico fort√≠ssimo, sendo o centro tecnol√≥gico do estado e a cidade com o maior PIB per capita do Nordeste do Brasil.</p>
                            </div>
                        </div>


                        <!-- Quiz de Frevo -->
                        <div class="p-4 bg-teal-100 border-l-4 border-teal-500 rounded-lg mt-8">
                            <h3 class="text-xl font-extrabold mb-2 text-teal-800">Quiz Cultural: Voc√™ Manja de Frevo?</h3>
                            <p class="text-gray-700 mb-4 text-sm">Teste seus conhecimentos sobre o ritmo que √© Patrim√¥nio Cultural Imaterial da Humanidade.</p>

                            <button id="toggle-quiz" class="w-full py-2 bg-teal-600 hover:bg-teal-700 text-white font-bold rounded-lg transition duration-150 ease-in-out">
                                Abrir Quiz
                            </button>
                           
                            <div id="quiz-section" class="hidden mt-4">
                                <div id="quiz-container" class="space-y-4">
                                    <!-- Perguntas do quiz ser√£o inseridas aqui pelo JS -->
                                </div>
                               
                                <button id="submit-quiz" class="mt-6 w-full py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition duration-150 ease-in-out">
                                    Ver Resultado
                                </button>

                                <div id="quiz-result" class="mt-4 p-4 text-center hidden rounded-lg">
                                    <p class="font-bold text-lg" id="result-message"></p>
                                    <p id="score-details" class="text-sm mt-1"></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
               
                <!-- 7. CONTATOS DE EMERG√äNCIA -->
                <div id="contatos" class="tab-pane hidden">
                    <div class="card p-6 rounded-xl">
                        <h2 class="text-2xl font-bold mb-4 text-yellow-700">Contatos de Emerg√™ncia - Disque R√°pido</h2>
                        <p class="text-gray-700 mb-6">Clique no bot√£o "Ligar" para discar imediatamente em dispositivos m√≥veis. Em caso de perigo imediato, use o <span class="font-bold">Bot√£o SOS</span>.</p>
                        <div class="space-y-4">
                            <div class="p-3 bg-red-100 rounded-lg border border-red-300 flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-red-700">Pol√≠cia Militar (Emerg√™ncia)</p>
                                    <p class="text-xl text-red-900 font-extrabold">190</p>
                                </div>
                                <a href="tel:190" class="px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition">Ligar</a>
                            </div>
                            <div class="p-3 bg-red-100 rounded-lg border border-red-300 flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-red-700">SAMU (Ambul√¢ncia)</p>
                                    <p class="text-xl text-red-900 font-extrabold">192</p>
                                </div>
                                <a href="tel:192" class="px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition">Ligar</a>
                            </div>
                            <div class="p-3 bg-red-100 rounded-lg border border-red-300 flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-red-700">Corpo de Bombeiros</p>
                                    <p class="text-xl text-red-900 font-extrabold">193</p>
                                </div>
                                <a href="tel:193" class="px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition">Ligar</a>
                            </div>
                            <div class="p-3 bg-blue-100 rounded-lg border border-blue-300 flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-blue-700">Disque Den√∫ncia Nacional (Viol√™ncia contra Mulher)</p>
                                    <p class="text-xl text-blue-900 font-extrabold">180</p>
                                </div>
                                <a href="tel:180" class="px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition">Ligar</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div> <!-- Fim do Conte√∫do das Abas -->

        </div> <!-- Fim do App Container -->


        <!-- BOT√ÉO SOS REDONDO E FIXO -->
        <a href="tel:190" onclick="setTimeout(function(){ if (!document.hasFocus()) window.location.hash = '#contatos'; }, 500);" class="sos-button-fixed">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.3 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
            190
        </a>


        <!-- Modal QR Code -->
        <div id="qrCodeModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden items-center justify-center p-4 z-50">
            <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full text-center">
                <h3 class="text-xl font-bold mb-4 text-teal-700">Guia no seu Celular</h3>
                <p class="mb-4 text-gray-700">Devido a um erro t√©cnico (URL muito longa), o c√≥digo QR exibe apenas um nome. Para acessar no celular, use o link completo:</p>
                <ol class="list-decimal list-inside text-sm text-gray-700 text-left mx-auto max-w-xs mb-3 space-y-1">
                    <li>Copie o link que est√° na barra de endere√ßo (URL) do seu navegador.</li>
                    <li>Cole o link em uma mensagem ou e-mail e envie para si mesmo.</li>
                </ol>
                <div id="qrcode" class="flex justify-center p-3 bg-gray-50 rounded-lg border border-gray-200">
                    <!-- O QR Code ser√° gerado aqui -->
                </div>
                <p class="text-xs text-red-500 mt-2 font-semibold">O c√≥digo cont√©m apenas o identificador. Copie o link completo!</p>
                <button id="closeModal" class="mt-6 w-full py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition duration-150">
                    Fechar
                </button>
            </div>
        </div>

    </div> <!-- Fim do Container Principal -->

    <script>
        // Fun√ß√£o utilit√°ria para notifica√ß√£o (substitui alert)
    function showNotification(message, isError = false) {
        const tempNotification = document.createElement('div');
        tempNotification.textContent = message;
        
        // CORRE√á√ÉO: Envolver a atribui√ß√£o de className em crases (template string)
        tempNotification.className = `fixed bottom-5 left-1/2 transform -translate-x-1/2 p-3 rounded-lg shadow-xl z-50 transition-opacity duration-300 ${isError ? 'bg-red-600 text-white' : 'bg-green-600 text-white'}`;
        
        document.body.appendChild(tempNotification);
        
        setTimeout(() => {
            tempNotification.style.opacity = '0';
            setTimeout(() => tempNotification.remove(), 300);
        }, 3000);
    }
    
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanes = document.querySelectorAll('.tab-pane');
            const tabNavigation = document.getElementById('tab-navigation');
            const qrCodeButton = document.getElementById('qrCodeButton');
            const qrCodeModal = document.getElementById('qrCodeModal');
            const closeModal = document.getElementById('closeModal');
            const qrcodeContainer = document.getElementById('qrcode');
            
            let qrCodeInstance = null;
            const validTabs = ['rastreamento', 'risco', 'bo', 'dicas', 'servicos', 'lazer', 'contatos', 'initial-screen'];
    
            // --- L√≥gica de Navega√ß√£o e Deep Linking (Hash) ---
    
            function showScreen(screenId) {
                tabPanes.forEach(pane => {
                    pane.classList.add('hidden');
                });
                tabNavigation.classList.add('hidden');
    
                const targetPane = document.getElementById(screenId);
                if (targetPane) {
                    targetPane.classList.remove('hidden');
                }
    
                if (screenId !== 'initial-screen') {
                    tabNavigation.classList.remove('hidden');
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active', 'bg-cyan-700', 'text-white');
                        btn.classList.add('text-gray-700', 'hover:bg-gray-100');
                        if (btn.dataset.tab === screenId) {
                            btn.classList.add('active', 'bg-cyan-700', 'text-white');
                            btn.classList.remove('text-gray-700', 'hover:bg-gray-100');
                        }
                    });
                }
            }
            
            function handleNavigation() {
                const hash = window.location.hash.substring(1);
                if (validTabs.includes(hash)) {
                    showScreen(hash);
                } else {
                    showScreen('initial-screen');
                }
            }
    
            window.addEventListener('hashchange', handleNavigation);
            
            tabButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const tabName = e.target.dataset.tab;
                    window.location.hash = tabName;
                });
            });
    
            document.querySelectorAll('.initial-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetHash = e.currentTarget.getAttribute('href');
                    window.location.hash = targetHash.substring(1); // Remove '#'
                });
            });
    
            handleNavigation();
    
            // --- L√≥gica do QR Code (CORRE√á√ÉO FINAL: URL BASE LIMPA / STRING CURTA) ---
            qrCodeButton.addEventListener('click', () => {
                qrCodeModal.classList.remove('hidden');
                qrCodeModal.classList.add('flex');
    
                qrcodeContainer.innerHTML = ''; // Limpa o conte√∫do anterior
                
                // CRUCIAL: Devido a um limite t√©cnico do ambiente (URL muito longa), codificaremos apenas uma string curta
                // para garantir que o QR Code GERE SEM ERROS. O link real deve ser copiado do navegador.
                const urlToEncode = "RecifeSeguraApp - Acesso Via Link Direto";
                
                // CRIA SEMPRE uma nova inst√¢ncia do QR Code para garantir a renderiza√ß√£o
                qrCodeInstance = new QRCode(qrcodeContainer, {
                    text: urlToEncode,
                    width: 200,
                    height: 200,
                    colorDark : "#000000",
                    colorLight : "#ffffff",
                    correctLevel : QRCode.CorrectLevel.H
                });
            });
    
            closeModal.addEventListener('click', () => {
                qrCodeModal.classList.add('hidden');
                qrCodeModal.classList.remove('flex');
            });
    
            qrCodeModal.addEventListener('click', (e) => {
                if (e.target === qrCodeModal) {
                    qrCodeModal.classList.add('hidden');
                    qrCodeModal.classList.remove('flex');
                }
            });
    
    
            // --- L√≥gica de Rastreamento de Rota (Funcionalidade de Seguran√ßa) ---
            const startTrackingButton = document.getElementById('start-tracking');
            const stopTrackingButton = document.getElementById('stop-tracking');
            const trackingContactInput = document.getElementById('tracking-contact');
            const trackingOutputDiv = document.getElementById('tracking-output');
            const trackingMessageP = document.getElementById('tracking-message');
            const copyTrackingTextButton = document.getElementById('copy-tracking-text');
            const trackingStatusBar = document.getElementById('tracking-status-bar');
    
            let trackingInterval = null;
            let locationCounter = 0;
    
            function simulateLocationUpdate() {
                locationCounter++;
                const time = new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
                const contact = trackingContactInput.value.trim() || "Meu Contato de Seguran√ßa";
    
                // Simula√ß√£o de localiza√ß√£o real (dentro da fun√ß√£o que gera a localiza√ß√£o)
                const mockLat = -8.0578 + (Math.random() - 0.5) * 0.01;
                const mockLon = -34.8821 + (Math.random() - 0.5) * 0.01;
    
                // üåü CORRE√á√ÉO CR√çTICA APLICADA: URL do Google Maps com Template String correta
                const mockLink = `https://www.google.com/maps/search/?api=1&query=${mockLat.toFixed(4)},${mockLon.toFixed(4)}`;
                
                // CORRE√á√ÉO 1: Usando Template String (crases) para a mensagem
                const message = `[üö® ${time}] Atualiza√ß√£o de Localiza√ß√£o - Rota Segura com ${contact}
    
    Estou A CAMINHO na √°rea de Recife/PE.
    
    üîó Localiza√ß√£o Atualizada (A cada 10s): ${mockLink}
    
    Status: OK. (Clique no link para me acompanhar).
    `;
    
                // CORRE√á√ÉO 2: Usando Template String (crases)
                trackingStatusBar.textContent = `RASTREAMENTO ATIVO - √öltima atualiza√ß√£o √†s ${time}`;
                trackingMessageP.textContent = message;
    
                if (locationCounter === 1) {
                    // CORRE√á√ÉO 3: Usando Template String (crases) para a notifica√ß√£o
                    showNotification(`Rastreamento INICIADO para ${contact}! Mensagem inicial copiada.`);
                    copyToClipboard(message);
                } 
            }
            function startTracking() {
                if (trackingInterval) return;
    
                const contact = trackingContactInput.value.trim();
                if (!contact) {
                    showNotification("Por favor, insira o Nome do Contato de Seguran√ßa!", true);
                    trackingContactInput.focus();
                    return;
                }
    
                locationCounter = 0; // Reset counter
                trackingContactInput.disabled = true;
                startTrackingButton.disabled = true;
                startTrackingButton.textContent = "RASTREANDO...";
                stopTrackingButton.disabled = false;
                trackingOutputDiv.classList.remove('hidden');
                trackingStatusBar.classList.add('tracking-status');
                
                // Primeira atualiza√ß√£o imediata
                simulateLocationUpdate();
    
                // Atualiza√ß√µes cont√≠nuas a cada 10 segundos
                trackingInterval = setInterval(simulateLocationUpdate, 10000);
            }
    
            function stopTracking() {
                // Verifica se h√° um rastreamento ativo
                if (!trackingInterval) return;
                
                // Interrompe o rastreamento e redefine as vari√°veis de controle
                clearInterval(trackingInterval);
                trackingInterval = null;
                trackingContactInput.disabled = false;
                startTrackingButton.disabled = false;
                startTrackingButton.textContent = "Iniciar Rastreamento";
                stopTrackingButton.disabled = true;
                trackingStatusBar.classList.remove('tracking-status');
                
                // Prepara as mensagens de finaliza√ß√£o
                const contact = trackingContactInput.value.trim() || "Contato de Seguran√ßa";
                const time = new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
                
                // AQUI EST√Å A CORRE√á√ÉO (Template String com Crases)
                const finalMessage = `[‚úÖ ${time}] Cheguei ao meu destino em seguran√ßa.
                
    O rastreamento da Rota Segura com ${contact} foi FINALIZADO com sucesso.
                
    Obrigada por me acompanhar!`;
            
                // AQUI EST√Å A CORRE√á√ÉO (Template String com Crases)
                trackingStatusBar.textContent = `RASTREAMENTO INATIVO - Parado √†s ${time}`;
                trackingMessageP.textContent = finalMessage;
                
                // AQUI EST√Å A CORRE√á√ÉO (Template String com Crases)
                showNotification(`Rastreamento FINALIZADO. Mensagem de seguran√ßa copiada.`);
                copyToClipboard(finalMessage);
            }
    
            function copyToClipboard(text) {
                // Implementa√ß√£o do fallback para c√≥pia de texto
                const tempInput = document.createElement('textarea');
                tempInput.value = text;
                document.body.appendChild(tempInput);
                tempInput.select();
                try {
                    document.execCommand('copy');
                } catch (err) {
                    console.error('Falha ao copiar: ', err);
                }
                document.body.removeChild(tempInput);
            }
    
            startTrackingButton.addEventListener('click', startTracking);
            stopTrackingButton.addEventListener('click', stopTracking);
            copyTrackingTextButton.addEventListener('click', () => {
                copyToClipboard(trackingMessageP.textContent);
                showNotification("Mensagem copiada para a √°rea de transfer√™ncia!");
            });
    
    
            // --- L√≥gica do Quiz de Frevo ---
            const quizData = [
                {
                    question: "Qual instrumento musical √© considerado o 'cora√ß√£o' do Frevo de Rua?",
                    options: ["Tuba", "Trompete", "Saxofone", "Trombone"],
                    answer: "Trompete"
                },
                {
                    question: "Qual o nome do passista (dan√ßarino) que se destaca no Frevo?",
                    options: ["Bailarino", "Capoeirista", "Maracatuzeiro", "Passista"],
                    answer: "Passista"
                },
                {
                    question: "Qual o objeto que o passista de Frevo utiliza para auxiliar nos passos?",
                    options: ["Chap√©u", "Sombrinha (Guarda-chuva)", "Cajado", "Len√ßo"],
                    answer: "Sombrinha (Guarda-chuva)"
                }
            ];
    
            const quizContainer = document.getElementById('quiz-container');
            const quizSection = document.getElementById('quiz-section');
            const submitQuizButton = document.getElementById('submit-quiz');
            const toggleQuizButton = document.getElementById('toggle-quiz');
            const quizResult = document.getElementById('quiz-result');
            const resultMessage = document.getElementById('result-message');
            const scoreDetails = document.getElementById('score-details');
            let userAnswers = {};
    
            function renderQuiz() {
                quizContainer.innerHTML = '';
                quizData.forEach((item, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'p-4 bg-white rounded-lg border border-gray-200 shadow-sm';
                    questionDiv.innerHTML = `<p class="font-semibold text-gray-800 mb-3">${index + 1}. ${item.question}</p>`;
                    
                    const optionsDiv = document.createElement('div');
                    optionsDiv.className = 'space-y-2';
    
                    item.options.forEach(option => {
                        const optionButton = document.createElement('button');
                        optionButton.className = 'quiz-option w-full text-left p-3 rounded-lg border border-gray-100 text-gray-600 font-medium hover:border-teal-400';
                        optionButton.textContent = option;
                        optionButton.setAttribute('data-question-index', index);
                        optionButton.setAttribute('data-option', option);
                        
                        optionButton.addEventListener('click', () => {
                            document.querySelectorAll(`[data-question-index="${index}"]`).forEach(btn => {
                                btn.classList.remove('bg-teal-200', 'border-teal-600');
                            });
    
                            optionButton.classList.add('bg-teal-200', 'border-teal-600');
                            userAnswers[index] = option;
                        });
                        optionsDiv.appendChild(optionButton);
                    });
                    
                    questionDiv.appendChild(optionsDiv);
                    quizContainer.appendChild(questionDiv);
                });
            }
    
            function checkQuiz() {
                let score = 0;
                let isComplete = Object.keys(userAnswers).length === quizData.length;
    
                if (!isComplete) {
                    showNotification("Por favor, responda todas as perguntas antes de finalizar o quiz!", true);
                    return;
                }
    
                quizData.forEach((item, index) => {
                    const userAnswer = userAnswers[index];
                    if (userAnswer === item.answer) {
                        score++;
                    }
                });
    
                const percentage = (score / quizData.length) * 100;
                quizResult.classList.remove('hidden');
                
                scoreDetails.textContent = `Voc√™ acertou ${score} de ${quizData.length} quest√µes.`;
    
                if (percentage === 100) {
                    resultMessage.textContent = "Parab√©ns! Voc√™ √© um Mestre do Frevo!";
                    quizResult.className = 'mt-4 p-4 text-center rounded-lg bg-green-100 text-green-800 font-extrabold';
                } else if (percentage >= 50) {
                    resultMessage.textContent = "Muito Bom! Conhece bem o Frevo, mas pode melhorar!";
                    quizResult.className = 'mt-4 p-4 text-center rounded-lg bg-yellow-100 text-yellow-800 font-extrabold';
                } else {
                    resultMessage.textContent = "Continue explorando! Visite o Pa√ßo do Frevo para aprender mais!";
                    quizResult.className = 'mt-4 p-4 text-center rounded-lg bg-red-100 text-red-800 font-extrabold';
                }
    
                quizData.forEach((item, index) => {
                    const buttons = document.querySelectorAll(`[data-question-index="${index}"]`);
                    buttons.forEach(btn => {
                        btn.disabled = true;
                        const option = btn.getAttribute('data-option');
                        
                        btn.classList.remove('bg-teal-200', 'border-teal-600');
    
                        if (option === item.answer) {
                            btn.classList.add('correct-answer', 'font-extrabold', 'border-green-600');
                        } else if (option === userAnswers[index] && option !== item.answer) {
                            btn.classList.add('incorrect-answer', 'font-extrabold', 'border-red-600');
                        }
                    });
                });
    
                submitQuizButton.disabled = true;
                submitQuizButton.textContent = "Resultado Exibido";
            }
    
            toggleQuizButton.addEventListener('click', () => {
                quizSection.classList.toggle('hidden');
                if (quizSection.classList.contains('hidden')) {
                    toggleQuizButton.textContent = "Abrir Quiz";
                    quizResult.classList.add('hidden');
                    submitQuizButton.disabled = false;
                    submitQuizButton.textContent = "Ver Resultado";
                    userAnswers = {};
                    renderQuiz(); // Reset the quiz on close
                } else {
                    toggleQuizButton.textContent = "Fechar Quiz";
                }
            });
    
            submitQuizButton.addEventListener('click', checkQuiz);
            
            renderQuiz();
        });
    </script>
</body>
</html>